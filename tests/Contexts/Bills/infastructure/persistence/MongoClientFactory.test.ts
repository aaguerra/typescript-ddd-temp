import { MongoClient } from 'mongodb';
import { MongoClientFactory } from '../../../../../src/Contexts/Bills/infrastructure/persistence/mongo/MongoClientFactory';

describe('MongoClientFactory', () => {
  const factory = MongoClientFactory;
  let client: MongoClient;

  beforeEach(async () => {
    client = await factory.createClient('test', { url: 'mongodb://localhost:27017/backend-dev' });
  });

  afterEach(async () => {
    await client.close();
  });

  it('creates a new client with the connection already established', () => {
    expect(client).toBeInstanceOf(MongoClient);
  });


});
